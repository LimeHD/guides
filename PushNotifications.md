# Push уведомления

## Тестирование push уведомления, получение токена FCM:

* Переходим в [Firebase console](https://console.firebase.google.com/u/0/)
* Выбираем проект, на который необходимо отправить push-уведомление.
* В боковом меню переходим в раздел [Cloud Messaging](https://console.firebase.google.com/u/1/project/digital-tv-6f9c2/notification)
* Тыкаем на кнопку “Send your first message” или “новое уведомление”, если уведомление уже было создано.
* Переходим в первый раздел ‘Уведомление’, если оно не заполнено - заполняем обязательные поля. Нажимаем на кнопку ‘Отправить тестовое сообщение’.
* Встроить [этот код](https://github.com/firebase/quickstart-android/blob/8d2ad7100bcc9c32e6b2aa7e10f27795078c4e03/messaging/app/src/main/java/com/google/firebase/quickstart/fcm/java/MainActivity.java#L101-L118) в приложение Android (В Лайт и ЦТВ вызвать функцию getTokenFCMforFireBaseCloudMessaging())
* Скопировать токен с лога и добавить токен на сайт Firebase.
* Выбрать устройство для теста (текущий токен) и нажать ‘Протестировать’


## Отправить push уведомление пользователям:

* Выполняем 1-4 пункты предыдущего руководства.
* Первый раздел ‘Уведомление”: название, текст и картинку пользователи увидят. Последнее название используется для идентификации в Firebase.
* Второй раздел ‘Аудитория’: выбор приложений (ios, android), и выбор групп пользователей по регионам, языкам, версиям приложений и тп.
* Третий раздел ‘Планирование’: настройка времени и частоты отправки уведомлений.
* Нажать на кнопку ‘Проверить’ внизу страницы. В открытом окне нажать ‘Опубликовать’


Уведомления не будут доставлены, если пользователь находится в приложении.
