# Push уведомления

## Настроить обычное push уведомление:

* Переходим в [Firebase console](https://console.firebase.google.com/u/0/)
* Выбираем проект ([Lite](https://console.firebase.google.com/u/3/project/lite-hd-tv/overview), [CTV](https://console.firebase.google.com/u/3/project/digital-tv-6f9c2/overview) или [CTVshka](https://console.firebase.google.com/u/0/project/ctvshka/overview)), на который необходимо отправить push-уведомление.
* В левом боковом меню находим группу 'Grow'. Если группа свёрнута, разворачиваем ее.
* В группе 'Grow' находим вкладку 'Cloud Messaging' и переходим в нее.
* Нажимаем на синюю кнопку “новое уведомление”. Если такой кнопки нет, значит не было созданно ни одно уведомление. В этом случае надо нажать на белую кнопку 'Send your first message'
* В открывшемся окне обязательно необходимо заполнить первые три раздела: Уведомление, Аудитория, Планирование.
* В первом разделе 'Уведомление' заполняем все поля. Например: 
    1. Название уведомления - Lite HD TV. 
    2. Текст уведомления - Сегодня на СТС в 18:00 Уральские пельмени.
    3. Изображение уведомления (не обязательно) https://lh3.googleusercontent.com/GzlM42u2l8kc6wQIW33nE14LdA_DlE1ik3JG5chnhyS3E1yl1d6cczaOqi2qUWTX4Q=s180-rw
    4. Название уведомления в FireBase (не обязательно) - Напоминание о передаче Уральские пельмени. Пользователь не увидит этого названия. Оно необходимо, чтобы различать уведомления в списке.
* После заполнения всех полей нажимаем на кнопку Далее.
* Второй раздел 'Аудитория': В выпадающем списке 'Выберите приложение' выберите limehd.ru.lite для Лайта, limehd.ru.ctv для ЦТВ, limehd.ru.ctvshka для ЦТВшки.
* Третий раздел 'Планирование': можно настроить время и частоту отправки. Для этого необходимо нажать на поле 'Сейчас' и изменить настройки. Если уведомление будет единоразовым, можно ничего не трогать.

## Настроить открытие канала при клике на уведомление (Сейчас доступно только для ЦТВшки) :
* Переходим в пятый раздел 'Дополнительные параметры'.
* В поле 'ключ' необходимо написать 'click_action' (без кавычек).
* В поле 'значение' необходимо написать 'open_channel:' (без кавычек). После двоеточия указывается id канала. Узнать id канала для [ЦТВшки](https://drive.google.com/open?id=1oRA_THnLPc-_0hQ_UwGSyqQ7ZBV0FHW8QDoX8jCYNpA). Например для открытия Первого канала необходимо указать open_channel:105
## Отправить:
* Нажать на кнопку ‘Проверить’ внизу страницы. 
* В открытом окне нажать ‘Опубликовать’

Уведомления не будут доставлены, если пользователь находится в приложении (кроме ЦТВшки).
